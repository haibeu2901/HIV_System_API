<!DOCTYPE html>
<html lang="vi">
<head>
    <!-- IMMEDIATE SECURITY PROTECTION -->
    <script src="../../immediate-security.js"></script>
    
    <!-- ADDITIONAL ROLE-BASED SECURITY FOR PATIENT LIST -->
    <script>
    (function() {
        'use strict';
        console.log('üîí ADDITIONAL SECURITY CHECK - Patient List');
        
        // Additional check specifically for patient list - accessible by doctors (2), staff (4), and admins (1)
        const userRole = localStorage.getItem('userRole');
        if (userRole) {
            const role = parseInt(userRole);
            const allowedRoles = [1, 2, 4]; // admin, doctor, staff
            if (!allowedRoles.includes(role)) {
                console.log('‚ùå BLOCKING: Wrong role for patient list:', role);
                document.documentElement.style.display = 'none';
                setTimeout(() => {
                    window.location.href = '/public-view/landingpage.html?reason=' + encodeURIComponent('Access denied for your role');
                }, 100);
                return;
            }
            console.log('‚úÖ ADDITIONAL SECURITY: Patient list access granted for role', role);
        }
    })();
    </script>
    
    <meta charset="UTF-8">
    <title>Danh s√°ch b·ªánh nh√¢n</title>
    <link rel="stylesheet" href="patient-list-style.css">
    <link rel="stylesheet" href="/private-view/shared/header/header-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    <div id="header-placeholder"></div>
    <div class="dashboard-container" style="padding-top: 5px;">
        <main class="main-content">
            <div class="dashboard-header">Danh s√°ch b·ªánh nh√¢n</div>
            <div class="search-bar">
                <input type="text" id="patientSearchInput" placeholder="T√¨m ki·∫øm b·ªánh nh√¢n theo t√™n ho·∫∑c email..." />
            </div>
            <div class="dashboard-section" id="patientMedicalRecordSection">
                <!-- Patient medical records content goes here -->
            </div>
        </main>
    </div>
    <div id="patientDetailModal" class="modal" style="display:none;">
      <div class="modal-content">
        <span class="close" id="closePatientModal">&times;</span>
        <div id="patientDetailContent">
          <!-- Th√¥ng tin chi ti·∫øt b·ªánh nh√¢n s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y -->
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"></script>
    <script src="/private-view/shared/role-config.js"></script>
    <script src="/private-view/shared/header/header-script.js"></script>
    <script src="patient-list-script.js"></script>
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <div class="footer-logo">
              <i class="fas fa-heartbeat"></i>
              <span>Ph√≤ng kh√°m HIV CareFirst</span>
            </div>
            <p>
              Mang ƒë·∫øn s·ª± chƒÉm s√≥c v√† h·ªó tr·ª£ t·∫≠n t√¢m cho m·ªçi ng∆∞·ªùi trong c·ªông ƒë·ªìng HIV.
            </p>
          </div>
          <div class="footer-section">
            <h3>Li√™n k·∫øt nhanh</h3>
            <ul>
              <li><a href="#home">Trang ch·ªß</a></li>
              <li><a href="#services">D·ªãch v·ª•</a></li>
              <li><a href="#about">Gi·ªõi thi·ªáu</a></li>
              <li><a href="#contact">Li√™n h·ªá</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>D·ªãch v·ª•</h3>
            <ul>
              <li><a href="#">X√©t nghi·ªám HIV</a></li>
              <li><a href="#">ƒêi·ªÅu tr·ªã</a></li>
              <li><a href="#">Nh√≥m h·ªó tr·ª£</a></li>
              <li><a href="#">Ph√≤ng ng·ª´a</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>Kh·∫©n c·∫•p</h3>
            <p>ƒê∆∞·ªùng d√¢y n√≥ng 24/7: <strong>(555) 911-HIV1</strong></p>
            <p>Lu√¥n s·∫µn s√†ng h·ªó tr·ª£ b·∫°n</p>
          </div>
        </div>
        <div class="footer-bottom">
          <p>
            &copy; 2025 Ph√≤ng kh√°m HIV CareFirst. ƒê√£ ƒëƒÉng k√Ω b·∫£n quy·ªÅn. | Ch√≠nh s√°ch b·∫£o m·∫≠t | ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng
          </p>
        </div>
      </div>
    </footer>
</body>
</html>
